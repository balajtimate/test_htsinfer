manifest {
  description = 'HTSinfer testing pipeline implemented with Nextflow'
  nextflowVersion = '>=23.04.0'
}

/* 
 * default params 
 */

params {
  htsinfer_out_dir = "${projectDir}/results_htsinfer/1024_mined_test_data_final_0def"
  sra_out_dir = "${projectDir}/results_sra_downloads/"
}

params {
  tsv = "${projectDir}/1001_mined_test_data_final.tsv"
  records = 0
  threads = 8
  read_min_percent = 0.1
  read_min_freq = 2
  lib_min_percent = 5
  lib_min_freq = 2
  lib_max_dist = 1000
  lib_mates_cutoff = 0.85
  read_orient_min_mapped = 20
  read_orient_min_freq = 0.75
}

/* 
 * defines execution profiles for different environments  
 */ 

profiles {
  slurm {
    includeConfig "conf/envs/slurm.config"
    executor.submitRateLimit = '1/15sec'
  }
  singularity {
    enabled = true
    autoMounts = true
    cacheDir = "${HOME}/.singularity/cache/library"
    libraryDir = "${HOME}/.singularity/cache/library"
  }
  conda {
    conda.enabled = true
    process.conda = '/scicore/home/zavolan/balajt0000/miniconda3/envs/htsinfer'
  }
}